# 🎯 Icon Hunter

一个基于 Next.js 的应用图标获取工具，可以搜索并下载 App Store 应用的高清图标。

## ✨ 功能特性

### 核心功能

- **应用搜索**：通过关键词搜索 App Store 应用
- **批量枚举**：一键获取热门应用列表
- **图标下载**：支持下载 60px、100px、512px 三种尺寸的图标
- **本地存储**：图标自动保存到本地目录
- **实时预览**：下载后的图标可在界面中预览

### 技术特性

- 🚀 基于 Next.js 14 App Router
- 🎨 使用 Tailwind CSS 构建响应式界面
- 📱 完全响应式设计，支持移动端
- 🔄 实时下载进度显示
- 📂 自动文件管理和去重
- 🌐 调用苹果官方 iTunes Search API

## 🏗️ 项目结构

```
icon-hunter/
├── app/                          # Next.js App Router
│   ├── api/                     # API 路由
│   │   ├── search-apps/         # 搜索应用接口
│   │   ├── download-icon/       # 下载图标接口
│   │   └── batch-apps/          # 批量获取应用接口
│   ├── page.tsx                 # 主页面组件
│   ├── layout.tsx               # 布局组件
│   └── globals.css              # 全局样式
├── public/
│   └── downloaded-icons/        # 下载的图标存储目录
├── package.json                 # 项目依赖
└── README.md                    # 项目说明
```

## 🚀 快速开始

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

访问 [http://localhost:3000](http://localhost:3000) 即可使用。

### 构建生产版本

```bash
npm run build
npm start
```

## 📋 使用说明

### 1. 搜索应用

- 在搜索框中输入应用名称或关键词
- 点击"搜索"按钮或按回车键
- 系统将显示匹配的应用列表

### 2. 批量获取热门应用

- 点击"批量获取热门应用"按钮
- 系统自动获取多个热门分类的应用
- 结果按评分和受欢迎程度排序

### 3. 下载图标

- 在应用网格中，鼠标悬浮在图标上
- 将显示应用名称、开发者和下载按钮
- 点击对应尺寸的下载按钮（60、100、512 像素）
- 图标将自动下载并保存到 `public/downloaded-icons/` 目录
- 下载完成后图标右上角会显示绿色 ✓ 标记
- 下载完成后可在"已下载图标"区域查看

### 4. 管理下载

- 点击"显示已下载图标"查看所有已下载的图标
- 图标文件命名格式：`应用名_应用ID_尺寸.扩展名`

## 🔧 API 接口说明

### 1. 搜索应用 API

```
GET /api/search-apps?term={keyword}&limit={number}&country={code}
```

- `term`: 搜索关键词（必需）
- `limit`: 返回结果数量限制，默认 50
- `country`: 国家代码，默认 US

### 2. 下载图标 API

```
POST /api/download-icon
Body: {
  iconUrl: string,
  appName: string,
  trackId: number,
  size: string
}
```

### 3. 批量获取应用 API

```
GET /api/batch-apps?category={category}&limit={number}&startIndex={number}
```

- `category`: 应用分类（可选）
- `limit`: 返回结果数量，默认 200
- `startIndex`: 起始索引，用于分页

### 4. 获取下载列表 API

```
GET /api/download-icon
```

返回已下载的图标文件列表。

## 🎨 界面设计

### 页面布局

1. **头部区域**：项目标题和说明
2. **搜索区域**：搜索框、批量获取按钮和使用提示
3. **控制区域**：显示/隐藏已下载图标按钮
4. **已下载图标区域**：网格展示已下载的图标
5. **应用列表区域**：紧凑的图标网格展示，支持滚动

### 响应式设计

- **超小屏幕** (< 640px)：4 列图标网格，直接点击操作
- **小屏幕** (640px+)：6 列图标网格，悬浮显示选项
- **中等屏幕** (768px+)：8 列图标网格，平衡显示密度
- **大屏幕** (1024px+)：10 列图标网格，充分利用空间
- **超大屏幕** (1280px+)：12 列图标网格，最大化显示
- **自适应容器**：所有容器宽度 100%，无横向滚动条
- **灵活尺寸**：图标大小根据屏幕自动调整（12px-16px）
- **智能交互**：桌面端悬浮提示，移动端点击操作

### 用户体验

- **紧凑展示**：只显示应用图标，最大化信息密度
- **悬浮交互**：鼠标悬浮显示应用详情和下载选项
- **实时反馈**：下载进度实时显示（加载动画、成功标记）
- **状态管理**：按钮状态清晰区分（下载中、已完成、错误）
- **滚动体验**：自定义滚动条样式，流畅的滚动体验
- **视觉提示**：tooltip 提示、状态指示器、使用说明
- **错误处理**：友好的错误提示和重试机制

## 🔍 技术实现

### 前端技术栈

- **Next.js 14**：React 全栈框架
- **TypeScript**：类型安全的 JavaScript
- **Tailwind CSS**：实用优先的 CSS 框架
- **React Hooks**：状态管理和副作用处理

### 后端技术栈

- **Next.js API Routes**：服务端 API 实现
- **Node.js File System**：文件操作和管理
- **Fetch API**：HTTP 请求处理

### 数据处理

- **iTunes Search API**：苹果官方应用数据源
- **并行请求**：批量搜索时使用 Promise.all 提高效率
- **数据去重**：基于应用 ID 的去重机制
- **结果排序**：按评分和受欢迎程度智能排序

## 🛠️ 开发指南

### 代码结构

- **组件化设计**：UI 组件模块化，便于维护
- **类型定义**：完整的 TypeScript 类型定义
- **错误边界**：完善的错误处理机制
- **性能优化**：防抖搜索、条件渲染等优化

### 扩展建议

1. **数据库集成**：添加应用信息本地缓存
2. **用户系统**：支持用户收藏和分类管理
3. **批量下载**：支持选择多个应用批量下载
4. **图标处理**：添加图标格式转换功能
5. **搜索优化**：添加搜索历史和热门搜索

## 📝 更新日志

### v1.2.0 (2024-01-08)

- 📱 **完全自适应**：彻底优化响应式布局，消除横向滚动条
- 🔧 **智能网格**：从 4 列到 12 列自适应网格，适配所有屏幕尺寸
- 📏 **灵活尺寸**：图标和按钮根据屏幕大小自动调整
- 🖥️ **桌面优化**：桌面端悬浮提示，移动端直接点击操作
- 📦 **容器优化**：所有容器添加合适的 padding 和边界控制
- 🎯 **移动友好**：专门为移动设备优化的交互方式

### v1.1.0 (2024-01-08)

- 🎨 **界面大幅优化**：采用紧凑的图标网格布局
- 🖱️ **悬浮交互**：鼠标悬浮显示应用详情和下载选项
- 📦 **固定容器**：应用列表容器固定高度，支持滚动
- 🎭 **视觉增强**：添加下载状态指示器和加载动画
- 📏 **滚动条美化**：自定义滚动条样式
- 💡 **使用提示**：添加操作说明和视觉提示
- ⚡ **性能优化**：图标网格动画和交互优化

### v1.0.0 (2024-01-08)

- ✅ 基础搜索功能实现
- ✅ 图标下载功能实现
- ✅ 批量获取热门应用功能
- ✅ 响应式界面设计
- ✅ 本地图标管理
- ✅ 实时下载进度显示

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目！

### 开发环境设置

1. Fork 项目到你的 GitHub 账户
2. 克隆项目到本地
3. 安装依赖：`npm install`
4. 启动开发服务器：`npm run dev`
5. 提交你的更改

## 📜 许可证

MIT License - 详见 LICENSE 文件

## 🙏 致谢

- 感谢苹果公司提供的 iTunes Search API
- 感谢 Next.js 和 Tailwind CSS 团队提供的优秀框架
